# Introducing the Controller

## A Controller for Connect Four

The purpose of this exercise is to give you practice with implementing the Controller component of the Model-View-Controller design pattern, by means of a textual, console-based controller.

In the starter code, you are given an interface representing a controller for *Connect Four*, with a single method, `playGame()`. Your task is to implement the `ConnectFourController` interface. Put your new controller code in the same package alongside your Connect Four model from the previous lab as it will depend on the model (reach out to your instructor if you did not complete lab 4). You are also given a class `ConnectFourView`. This class defines the core functionalities required to display the game state and messages to the user. Finally, we provide you with a class `Main` with a `main` method that will allow you to test your game interactively (you will be able to play Connect Four in the console!).

You will need to create one additional class: a public class named `ConnectFourConsoleController` that implements `ConnectFourController`, with a single public constructor that takes two arguments, a `Readable` and a `ConnectFourView` (in that order). You will fill in the fields and the method definitions as appropriate. The view's constructor takes an `Appendable` as its only parameter. You may also define other classes if you think they are needed.

The controller will read inputs from the `Readable` corresponding to user moves, and communicate with the view so that the correct messages are provided to the user.

A single move consists of one integer number, specifying the column of the intended `makeMove()` position. Board positions for these moves are numbered starting at 1. For example, to position a red (R) piece in the central column of a 6 x 7 board, the user would enter `4` at the first prompt. To position a yellow (Y) piece in the last column (right) on the second move, the user would enter `7`. To quit a game in progress, the user can enter a special character of your choice at any time (e.g., the user can quit my game by typing the number 0).

If a non-integer value is entered, it should be rejected with an error message. If an invalid move is entered, namely, a valid integer, but the proposed move was deemed invalid by the model, the controller should give an error message.

At the end of the game, the controller should ask the view to output the following:
- A final game state
- "Game over!" followed by "RED is the winner." or "YELLOW is the winner." or "Tie game." depending on the outcome
- The option for the user to start a new game (e.g., "Do you want to play again? (yes/no)\n")

If the user quits, the controller should communicate this to the view and the correct message must be printed.

## Testing

You are tasked with testing the controller of your game. Proper testing is critical to ensure that your game responds correctly to user inputs and that the appropriate actions are triggered within the model. You have two options for how to approach testing the controller:

1. **Mocking the Model**
2. **Using the Existing Model**

### Mocking the Model

Mocking involves creating a simplified version of the model that behaves in a predictable way. This method is particularly useful for isolating the controller from the rest of the application, allowing you to test how the controller interacts with the model without requiring a fully implemented and potentially complex model.

### Using the Existing Model

If you have a working model, you can use it directly in your tests. This approach tests the controller's interaction with the actual model, providing a more integrated testing scenario.

### Guidelines for Both Methods

Define Clear Test Cases: Identify the different types of inputs the controller can receive and the expected outcomes. This includes valid inputs, invalid inputs, boundary cases, and any other scenario relevant to your game's functionality.

## Notes to Keep in Mind

- You will likely need a `while()` loop; be aware that you can use the `break` statement to break out of a loop prematurely (before the loop condition is false).
- You will need to use the built-in `Scanner` class. See the lecture notes examples and explore the Oracle JavaDoc for this class for more information on how to use it.
- Avoid duplicating code as much as possible. Consider using non-public methods as means of creating reusable pieces of functionality.
- Be sure to use access modifiers, `private` and `public`, as well as `final`, appropriately.
- Include JavaDoc for your classes and constructors as appropriate. You do not need to repeat JavaDoc already existing in a superclass or interface when you override a method.

## Example

Here is an example of how your game could behave:

<pre><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player RED, make your move:&nbsp;</span><br /><strong><span style="font-family: 'courier new', courier; color: #2dc26b;">4</span></strong><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | R | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player YELLOW, make your move:&nbsp;</span><br /><span style="color: #2dc26b;"><strong><span style="font-family: 'courier new', courier;">3</span></strong></span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | Y | R | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player RED, make your move:&nbsp;</span><br /><span style="color: #2dc26b;"><strong><span style="font-family: 'courier new', courier;">9</span></strong></span><br /><span style="font-family: 'courier new', courier;">The column is out of bounds</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | Y | R | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player RED, make your move:&nbsp;</span><br /><span style="color: #2dc26b;"><strong><span style="font-family: 'courier new', courier;">5</span></strong></span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | Y | R | R | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player YELLOW, make your move:&nbsp;</span><br /><span style="color: #2dc26b;"><strong><span style="font-family: 'courier new', courier;">G</span></strong></span><br /><span style="font-family: 'courier new', courier;">Not a valid number: G</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | Y | R | R | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">Player YELLOW, make your move:&nbsp;</span><br /><span style="color: #2dc26b;"><strong><span style="font-family: 'courier new', courier;">0</span></strong></span><br /><span style="font-family: 'courier new', courier;">Game quit! Ending game state:</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp; | &nbsp;</span><br /><span style="font-family: 'courier new', courier;">---------------------------</span><br /><span style="font-family: 'courier new', courier;">&nbsp; &nbsp;| &nbsp; | Y | R | R | &nbsp; | &nbsp;</span></pre>
<p>&nbsp;</p>

## To Turn In
   Submit your zip file containing only your src and test directories on Gradescope.
